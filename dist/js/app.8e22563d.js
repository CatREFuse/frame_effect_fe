(function(e){function t(t){for(var r,i,c=t[0],s=t[1],l=t[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2393:function(e,t,n){"use strict";n("6476")},"35a5":function(e,t,n){"use strict";n("71fe")},"3ce3":function(e,t,n){"use strict";n("c96a");var r=n("7a23"),o=Object(r["withScopeId"])("data-v-d1316bf8");Object(r["pushScopeId"])("data-v-d1316bf8");var a={key:0,style:{display:"flex","flex-direction":"column","align-items":"center"}},i=Object(r["createVNode"])("div",{style:{"margin-top":"1rem"}},"可以通过 Shift 切换网格大小",-1),c={style:{"margin-top":"0rem"}};Object(r["popScopeId"])();var s=o((function(e,t,n,o,s,l){var u=Object(r["resolveComponent"])("el-switch");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])("div",{class:{canvas:!0,"small-grid":s.small&&n.showGrid,"big-grid":!s.small&&n.showGrid,"no-grid":!n.showGrid,grab:s.isDraging},onMousemove:t[2]||(t[2]=Object(r["withModifiers"])((function(e){return l.draging(e)}),["prevent"])),onMouseup:t[3]||(t[3]=Object(r["withModifiers"])((function(e){return l.dragEnd(e)}),["prevent"]))},[Object(r["createVNode"])("div",{class:{box:!0,grab:s.isDraging},onMousedown:t[1]||(t[1]=Object(r["withModifiers"])((function(e){return l.dragStart(e)}),["prevent"])),style:{left:"".concat(s.boxPosition.x,"px"),top:"".concat(s.boxPosition.y,"px"),backgroundColor:"".concat(s.isInTarget?"#7EBF50":"#282A3A")}},null,38),Object(r["createVNode"])("div",{class:"target",style:{left:"".concat(s.targetPosition.x,"px"),top:"".concat(s.targetPosition.y,"px")}},null,4)],34),n.debug?(Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[Object(r["createVNode"])("div",null,"坐标为: "+Object(r["toDisplayString"])(s.boxPosition.x)+" "+Object(r["toDisplayString"])(s.boxPosition.y),1),i,Object(r["createVNode"])("div",c,"网格大小 "+Object(r["toDisplayString"])(s.small?"80px":"160px"),1),Object(r["createVNode"])(u,{style:{margin:"0.5rem"},modelValue:s.small,"onUpdate:modelValue":t[4]||(t[4]=function(e){return s.small=e}),"active-text":"小网格","inactive-text":"大网格"},null,8,["modelValue"])])):Object(r["createCommentVNode"])("",!0)],64)})),l=(n("7f17"),n("f3fc"),n("6573")),u=n.n(l),d=n("3835"),p=n("ade3");n("159b"),n("a9e3"),n("d81d");function f(e,t){for(var n=[],r=0;r<e;r++)0!=r&&n.push(r*t-60),n.push(r*t),r==e-1&&n.push((r+1)*t-60);return n}var b=f(6,160),m=f(4,160),g=f(12,80),h=f(8,80);function O(e,t){var n=0,r=1e6;return t.forEach((function(t){Math.abs(e-t)<=r&&(r=Math.abs(e-t),n=t)})),n}var j={props:{isSnapping:{type:Boolean,default:!0},showGrid:{type:Boolean,default:!0},debug:{type:Boolean,default:!1},smallGridOnStart:{type:Boolean,default:!1},updateFlag:{type:Number,default:0}},data:function(){return{small:!1,isDraging:!1,dragBuffer:Object(p["a"])({cursorXOnStart:0,cursorYOnStart:0,boxXOnStart:0,boxYOnStart:0,boxPositionX:0},"boxPositionX",0),boxPosition:{x:160,y:160},targetPosition:{x:640,y:320},isInTarget:!1,showNotice:!1,isResetting:!1,isInTiming:!1,time:{begin:0,end:0}}},computed:{period:function(){return this.time.end-this.time.begin}},emits:["accomplish"],methods:{dragStart:function(e){if(!this.isResetting){if(!this.isInTiming){var t=new Date;this.time.begin=t.getTime()}this.isInTiming=!0;var n=v(e,".canvas"),r=Object(d["a"])(n,2);this.dragBuffer.cursorXOnStart=r[0],this.dragBuffer.cursorYOnStart=r[1];var o=[this.boxPosition.x,this.boxPosition.y];this.dragBuffer.boxXOnStart=o[0],this.dragBuffer.boxYOnStart=o[1],this.isDraging=!0}},draging:function(e){if(!this.isResetting&&0!=this.isDraging){var t=v(e,".canvas"),n=Object(d["a"])(t,2),r=n[0],o=n[1],a=r-this.dragBuffer.cursorXOnStart,i=o-this.dragBuffer.cursorYOnStart;this.isSnapping?(this.dragBuffer.boxPositionX=a+this.dragBuffer.boxXOnStart,this.dragBuffer.boxPositionY=i+this.dragBuffer.boxYOnStart,this.small?(this.boxPosition.x=O(this.dragBuffer.boxPositionX,g),this.boxPosition.y=O(this.dragBuffer.boxPositionY,h)):(this.boxPosition.x=O(this.dragBuffer.boxPositionX,b),this.boxPosition.y=O(this.dragBuffer.boxPositionY,m))):(this.boxPosition.x=a+this.dragBuffer.boxXOnStart,this.boxPosition.y=i+this.dragBuffer.boxYOnStart),Math.abs(this.boxPosition.x-this.targetPosition.x)<=4&&Math.abs(this.boxPosition.y-this.targetPosition.y)<=4?this.isInTarget=!0:this.isInTarget=!1}},dragEnd:function(e){var t=this;if(!this.isResetting&&0!=this.isDraging){var n=new Date;this.time.end=n.getTime(),this.isDraging=!1;var r=[0,0];if(this.cursorXOnStart=r[0],this.cursorYOnStart=r[1],this.isInTarget){var o=[this.targetPosition.x,this.targetPosition.y];this.boxPosition.x=o[0],this.boxPosition.y=o[1],this.$emit("accomplish",this.period),u.a.success({message:"完成目标，用时 ".concat(this.period," ms，即将进行下一轮..."),type:"success"}),this.isResetting=!0,setTimeout((function(){t.resetDrag()}),1200)}}},resetDrag:function(){for(var e in this.dragBuffer)this.dragBuffer[e]=0;this.boxPosition={x:160,y:160},this.showNotice=!1,this.isInTarget=!1,this.isResetting=!1,this.isInTiming=!1;var t=n("f367"),r=Math.floor(Math.random()*t.length),o=t[r],a=[o.start[0],o.start[1],o.target[0],o.target[1]].map((function(e){return parseInt(e)})),i=Object(d["a"])(a,4),c=i[0],s=i[1],l=i[2],u=i[3];this.boxPosition={x:c,y:s},this.targetPosition={x:l,y:u}},switch:function(){this.small=!this.small,console.log("switch"),u.a.info({message:"切换到".concat(this.small?"小":"大","网格"),type:"success"})},listener:function(e){e.shiftKey&&"P"==e.key&&this.switch()}},created:function(){document.addEventListener("keydown",this.listener)},unmounted:function(){console.log("remove"),document.removeEventListener("keydown",this.listener)},mounted:function(){this.small=this.smallGridOnStart,this.resetDrag()},watch:{updateFlag:function(e,t){this.small=this.smallGridOnStart,console.log("small:",this.small)}}};function v(e,t){var n=document.querySelector(t).getBoundingClientRect().top,r=document.querySelector(t).getBoundingClientRect().left,o=e.clientX-r,a=e.clientY-n;return[o,a]}n("4d0c");j.render=s,j.__scopeId="data-v-d1316bf8";t["a"]=j},"4d0c":function(e,t,n){"use strict";n("6717")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),o={id:"app"},a=Object(r["createVNode"])("h2",{style:{color:"white","padding-left":"16px"}},[Object(r["createVNode"])("i",{class:"el-icon-files"}),Object(r["createTextVNode"])(" 框架效应实验平台 ")],-1),i=Object(r["createVNode"])("i",{class:"el-icon-menu"},null,-1),c=Object(r["createVNode"])("span",null,"实验区",-1),s=Object(r["createVNode"])("i",{class:"el-icon-setting"},null,-1),l=Object(r["createVNode"])("span",null,"调试区",-1);function u(e,t,n,u,d,p){var f=Object(r["resolveComponent"])("el-menu-item"),b=Object(r["resolveComponent"])("el-menu"),m=Object(r["resolveComponent"])("el-aside"),g=Object(r["resolveComponent"])("router-view"),h=Object(r["resolveComponent"])("el-main"),O=Object(r["resolveComponent"])("el-container");return Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])(O,{style:{height:"100vh"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,{width:"280px"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{style:{height:"100%","text-align":"left"},"background-color":"#545c64","text-color":"#fff","active-text-color":"#8EC766","default-active":e.$route.path,router:!0},{default:Object(r["withCtx"])((function(){return[a,Object(r["createVNode"])(f,{index:"/lab",route:"/lab"},{default:Object(r["withCtx"])((function(){return[i,c]})),_:1}),Object(r["createVNode"])(f,{index:"/test",route:"/test"},{default:Object(r["withCtx"])((function(){return[s,l]})),_:1})]})),_:1},8,["default-active"])]})),_:1}),Object(r["createVNode"])(h,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])((function(e){var t=e.Component;return[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(t)))]})),_:1})]})),_:1})]})),_:1})])}var d=n("6cd1"),p=n("78c1"),f={name:"App",components:{Home:d["default"],Test:p["default"]},mounted:function(){console.log(this.$route)}};n("35a5");f.render=u;var b=f,m=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),g=[{path:"/",name:"Index",redirect:"/lab"},{path:"/lab",name:"Lab",component:function(){return Promise.resolve().then(n.bind(null,"6cd1"))}},{path:"/test",name:"Test",component:function(){return Promise.resolve().then(n.bind(null,"78c1"))}}],h=Object(m["a"])({history:Object(m["b"])(),routes:g}),O=h,j=n("5502"),v=Object(j["a"])({state:{colorScheme:"light"},mutations:{switchToDark:function(){this.state.colorScheme="dark"},switchToLight:function(){this.state.colorScheme="light"}},actions:{},modules:{}}),x=(n("7dd6"),n("46bd")),V=n.n(x),y=(n("c69f"),n("3ef0")),w=n.n(y),N=function(e){e.use(V.a,{locale:w.a})},S=Object(r["createApp"])(b);N(S),S.use(v).use(O).mount("#app")},"5c7a":function(e,t,n){"use strict";n("a27e")},6476:function(e,t,n){},6717:function(e,t,n){},"6cd1":function(e,t,n){"use strict";n.r(t);n("a4d3"),n("e01a");var r=n("7a23"),o=Object(r["withScopeId"])("data-v-03fb180a");Object(r["pushScopeId"])("data-v-03fb180a");var a={key:0,class:"example"},i=Object(r["createVNode"])("h1",null,"操作测试",-1),c={key:1,class:"task-set",id:"task-set-1"},s={style:{"text-align":"left"}},l={class:"dialog-footer"},u=Object(r["createTextVNode"])("开启"),d=Object(r["createTextVNode"])("不开启"),p={style:{"text-align":"left"}},f=Object(r["createTextVNode"])(" 后续拖拽任务的总数是"),b={class:"dialog-footer"},m=Object(r["createTextVNode"])("确定"),g={key:2},h=Object(r["createTextVNode"])("下载实验数据");Object(r["popScopeId"])();var O=o((function(e,t,n,O,j,v){var x=Object(r["resolveComponent"])("el-step"),V=Object(r["resolveComponent"])("el-steps"),y=Object(r["resolveComponent"])("lab-form"),w=Object(r["resolveComponent"])("drag"),N=Object(r["resolveComponent"])("el-button"),S=Object(r["resolveComponent"])("el-dialog"),k=Object(r["resolveComponent"])("el-input"),C=Object(r["resolveComponent"])("el-result"),B=Object(r["resolveComponent"])("VueJsonPretty");Object(r["resolveComponent"])("el-input-number");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(V,{active:j.phase,simple:""},{default:o((function(){return[Object(r["createVNode"])(x,{title:"信息录入",icon:"el-icon-edit"}),Object(r["createVNode"])(x,{title:"实验熟悉",icon:"el-icon-chat-round"}),Object(r["createVNode"])(x,{title:"进行实验",icon:"el-icon-coordinate"}),Object(r["createVNode"])(x,{title:"数据记录",icon:"el-icon-data-board"})]})),_:1},8,["active"]),Object(r["withDirectives"])(Object(r["createVNode"])(y,{onSubmit:t[1]||(t[1]=function(e){return v.handleForm(e)})},null,512),[[r["vShow"],0==j.phase]]),1==j.phase?(Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[i,Object(r["createVNode"])("p",null,Object(r["toDisplayString"])(O.example.description),1),Object(r["createVNode"])("h2",null,Object(r["toDisplayString"])(O.example.title.value),1),Object(r["createVNode"])(w,{isSnapping:O.example.dragConfig.isSnapping,smallGridOnStart:O.example.dragConfig.smallGridOnStart,onAccomplish:t[2]||(t[2]=function(e){return O.example.exampleFinishHander(e)}),debug:!1,updateFlag:O.example.state.value},null,8,["isSnapping","smallGridOnStart","updateFlag"])])):Object(r["createCommentVNode"])("",!0),2==j.phase?(Object(r["openBlock"])(),Object(r["createBlock"])("div",c,[Object(r["createVNode"])("h1",null," Task Set "+Object(r["toDisplayString"])(O.experiment.state.set+1)+", "+Object(r["toDisplayString"])(O.experiment.state.number+1)+"/12 ",1),Object(r["createVNode"])(w,{debug:!1,showGrid:!1,smallGridOnStart:O.experiment.dragConfig.smallGridOnStart,isSnapping:O.experiment.dragConfig.isSnapping,onAccomplish:O.experiment.finishHandler,updateFlag:O.experiment.state.number},null,8,["smallGridOnStart","isSnapping","onAccomplish","updateFlag"])])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(S,{title:"提示",modelValue:O.experiment.frameEffectAnswer.showQuestion,"onUpdate:modelValue":t[5]||(t[5]=function(e){return O.experiment.frameEffectAnswer.showQuestion=e}),"show-close":!1,"close-on-click-modal":!1},{footer:o((function(){return[Object(r["createVNode"])("span",l,[Object(r["createVNode"])(N,{onClick:t[3]||(t[3]=function(e){return O.experiment.handleAnswer("on")})},{default:o((function(){return[u]})),_:1}),Object(r["createVNode"])(N,{onClick:t[4]||(t[4]=function(e){return O.experiment.handleAnswer("off")})},{default:o((function(){return[d]})),_:1})])]})),default:o((function(){return[Object(r["createVNode"])("div",s,Object(r["toDisplayString"])(O.experiment.frameEffectQuestion[O.experiment.subject.group]||"组别出错"),1)]})),_:1},8,["modelValue"]),Object(r["createVNode"])(S,{"show-close":!1,"close-on-click-modal":!1,title:"请回答",modelValue:O.experiment.frameEffectAnswer.showConcentrateTest,"onUpdate:modelValue":t[8]||(t[8]=function(e){return O.experiment.frameEffectAnswer.showConcentrateTest=e})},{footer:o((function(){return[Object(r["createVNode"])("span",b,[Object(r["createVNode"])(N,{onClick:t[7]||(t[7]=function(e){return O.experiment.handleTest(parseInt(O.experiment.frameEffectAnswer.testNum))})},{default:o((function(){return[m]})),_:1})])]})),default:o((function(){return[Object(r["createVNode"])("div",p,[f,Object(r["createVNode"])(k,{modelValue:O.experiment.frameEffectAnswer.testNum,"onUpdate:modelValue":t[6]||(t[6]=function(e){return O.experiment.frameEffectAnswer.testNum=e}),style:{display:"inline"}},null,8,["modelValue"])])]})),_:1},8,["modelValue"]),3==j.phase?(Object(r["openBlock"])(),Object(r["createBlock"])("div",g,[Object(r["createVNode"])(C,{icon:"success",title:"已完成完全实验",subTitle:"请配合工作人员下载实验数据文件，感谢您的参与！"}),Object(r["createVNode"])(N,{type:"primary",size:"medium",icon:"el-icon-download",onClick:v.downloadJSON},{default:o((function(){return[h]})),_:1},8,["onClick"]),Object(r["createVNode"])(B,{data:v.data},null,8,["data"])])):Object(r["createCommentVNode"])("",!0),Object(r["createCommentVNode"])("",!0)],64)})),j=n("1da1"),v=(n("96cf"),n("99af"),n("a1e9")),x=Object(r["withScopeId"])("data-v-7846575d");Object(r["pushScopeId"])("data-v-7846575d");var V={class:"form"},y=Object(r["createVNode"])("h1",null,"信息录入",-1),w=Object(r["createVNode"])("p",null,[Object(r["createTextVNode"])(" 为保证实验的准确性，请在下方如实填写你的信息。"),Object(r["createVNode"])("br"),Object(r["createVNode"])("em",null,"请放心，其中不包含任何可能透漏个人隐私的问题。")],-1),N=Object(r["createTextVNode"])("A"),S=Object(r["createTextVNode"])("B"),k=Object(r["createTextVNode"])("男"),C=Object(r["createTextVNode"])("女"),B=Object(r["createTextVNode"])("其他"),P=Object(r["createTextVNode"])("提交");Object(r["popScopeId"])();for(var _=x((function(e,t,n,o,a,i){var c=Object(r["resolveComponent"])("el-input"),s=Object(r["resolveComponent"])("el-form-item"),l=Object(r["resolveComponent"])("el-radio"),u=Object(r["resolveComponent"])("el-option"),d=Object(r["resolveComponent"])("el-select"),p=Object(r["resolveComponent"])("el-form"),f=Object(r["resolveComponent"])("el-button"),b=Object(r["resolveComponent"])("el-card"),m=Object(r["resolveComponent"])("el-col"),g=Object(r["resolveComponent"])("el-row");return Object(r["openBlock"])(),Object(r["createBlock"])("div",V,[y,w,Object(r["createVNode"])(g,null,{default:x((function(){return[Object(r["createVNode"])(m,{span:12},{default:x((function(){return[Object(r["createVNode"])(b,{shadow:"never"},{default:x((function(){return[Object(r["createVNode"])(p,{model:a.form,class:"el-form","label-width":"80px",rules:a.rules,ref:"form"},{default:x((function(){return[Object(r["createVNode"])(s,{label:"实验编号",prop:"id"},{default:x((function(){return[Object(r["createVNode"])(c,{modelValue:a.form.id,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.form.id=e}),style:{width:"100px"}},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(s,{label:"实验组",prop:"group"},{default:x((function(){return[Object(r["createVNode"])(l,{modelValue:a.form.group,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.form.group=e}),label:"A"},{default:x((function(){return[N]})),_:1},8,["modelValue"]),Object(r["createVNode"])(l,{modelValue:a.form.group,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.form.group=e}),label:"B"},{default:x((function(){return[S]})),_:1},8,["modelValue"])]})),_:1}),Object(r["createVNode"])(s,{label:"性别",prop:"gender"},{default:x((function(){return[Object(r["createVNode"])(l,{modelValue:a.form.gender,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.form.gender=e}),label:"male"},{default:x((function(){return[k]})),_:1},8,["modelValue"]),Object(r["createVNode"])(l,{modelValue:a.form.gender,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.form.gender=e}),label:"female"},{default:x((function(){return[C]})),_:1},8,["modelValue"]),Object(r["createVNode"])(l,{modelValue:a.form.gender,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.form.gender=e}),label:"other"},{default:x((function(){return[B]})),_:1},8,["modelValue"])]})),_:1}),Object(r["createVNode"])(s,{label:"年龄",prop:"age"},{default:x((function(){return[Object(r["createVNode"])(d,{modelValue:a.form.age,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.form.age=e}),placeholder:"请选择"},{default:x((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(a.ages,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(r["createVNode"])(s,{label:"显示设备",prop:"monitor",style:{width:"300px"}},{default:x((function(){return[Object(r["createVNode"])(d,{modelValue:a.form.monitor,"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.form.monitor=e}),placeholder:"请选择"},{default:x((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(a.monitors,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(r["createVNode"])(s,{label:"输入设备",prop:"input",style:{width:"300px"}},{default:x((function(){return[Object(r["createVNode"])(d,{modelValue:a.form.input,"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.form.input=e}),placeholder:"请选择"},{default:x((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(a.inputs,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"]),Object(r["createVNode"])(f,{type:"primary",disabled:!i.ready,icon:"el-icon-success",onClick:t[10]||(t[10]=function(t){return e.$emit("submit",a.form)})},{default:x((function(){return[P]})),_:1},8,["disabled"])]})),_:1})]})),_:1})]})),_:1})])})),T=[],I=18;I<=40;I++)T.push(I);var D={data:function(){return{form:{id:"22",group:"A",gender:"male",age:"20",monitor:"显示器（26 寸以上）",input:"触控板"},ages:function(){for(var e=[],t=18;t<=40;t++)e.push(t);return e}(),monitors:["笔记本（小于 16 寸）","显示器（20 - 26 寸）","显示器（26 寸以上）","其他"],inputs:["鼠标","触控板","轨迹球","触屏","其他"],rules:{id:{required:!0,trigger:"change"},group:{required:!0,trigger:"change"},gender:{required:!0,trigger:"change"},age:{required:!0,trigger:"change"},monitor:{required:!0,trigger:"change"},input:{required:!0,trigger:"change"}}}},computed:{ready:function(){var e=!0;for(var t in this.form)e=e&&this.form[t];return e}}};n("5c7a");D.render=_,D.__scopeId="data-v-7846575d";var F=D,A=n("5c40"),G=n("3ce3"),E=n("838b"),M=n.n(E),U=(n("b83f"),{components:{LabForm:F,Drag:G["a"],VueJsonPretty:M.a},data:function(){return{phase:0,subjectForm:Object,showQuestion:!0}},methods:{handleForm:function(e){this.phase=1,this.subjectForm=e,this.experiment.subject.id=e.id,this.experiment.subject.group=e.group},nextPhase:function(){this.phase++},downloadJSON:function(){function e(e,t){var n=document.createElement("a");if(n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),document.createEvent){var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}else n.click()}var t=JSON.stringify(this.data);e("编号".concat(this.subjectForm.id).concat(this.subjectForm.group,".json"),t)}},computed:{data:function(){return this.experiment.data.subject=this.subjectForm,this.experiment.data},dataJSON:function(){return JSON.stringify(this.experiment.data)}},watch:{"example.nextPhaseFlag.value":function(e,t){e&&this.nextPhase()},"experiment.finishFlag.value":function(e){e&&this.nextPhase()}},setup:function(e,t){var n=X(e,t),r=R(e,t);return{example:n,experiment:r}},beforeRouteLeave:function(){return Object(j["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=window.confirm("离开本页会丢失当前所有实验数据，确定离开吗？"),t){e.next=3;break}return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e)})))()}});function X(){var e="实验任务中存在两种不同的功能设置：网格捕捉（后台设置，不能操作）和网格缩放（按 shift + p 网格将切换疏密）。\n根据两种功能的开启与否，共有三种任务类型：无网格捕捉、网格捕捉-密网格、网格捕捉-疏网格。请根据不同的任务类型选择恰当的操作。",t=["1. 无网格捕捉任务","2. 网格捕捉-密网格","3. 网格捕捉-疏网格"],n=Object(v["k"])({isSnapping:!1,smallGridOnStart:!1});function r(){n.isSnapping=!0,n.smallGridOnStart=!0,console.log(1)}function o(){n.isSnapping=!0,n.smallGridOnStart=!1,console.log(2)}var a=Object(v["m"])(""),i=Object(v["m"])(0);Object(A["Pb"])((function(){switch(a.value=t[i.value],i.value){case 0:console.log(0);break;case 1:r();break;case 2:o();break;default:alert("测试实验状态出错")}}));var c=Object(v["m"])(!1);function s(){i.value<2?i.value++:c.value=!0}return{description:e,title:a,state:i,dragConfig:n,exampleFinishHander:s,nextPhaseFlag:c}}function R(e){var t=Object(v["k"])({answer:"",test:{answer:0,pass:!1},"task-set-1":{type:"",data:[]},"task-set-2":{type:"",data:[]},"task-set-3":{type:"frame",data:[]}}),n=Object(v["k"])({id:"",group:""}),r=Object(v["k"])({set:0,type:"neutral",number:0}),o=Object(v["k"])({isSnapping:!1,smallGridOnStart:!1}),a={A:"接下来你将被分配新一轮的12个拖拽任务：其中有33%的概率所有的任务都是容易对齐网格的，还有66%的概率没有任务是容易对齐的。你想要网格吸附功能开启还是关闭？",B:"接下来你将被分配新一轮的12个拖拽任务：其中有66%的概率所有的任务都是较难对齐网格的，还有33%的概率没有任务是较难对齐的。你想要网格吸附功能开启还是关闭？"},i=Object(v["k"])({group:"A",answer:"on",testNum:"",showQuestion:!1,showTest:!1,passTest:!1}),c=Object(v["m"])(!1);function s(e){if(1==r.set&&11==r.number)return t["task-set-".concat(r.set+1)].data.push({type:1==l[r.number]?"small":"large",time:e,snapping:o.isSnapping}),void g();11==r.number?2==r.set?(t["task-set-".concat(r.set+1)].data.push({type:1==l[r.number]?"small":"large",time:e,snapping:o.isSnapping}),c.value=!0):(t["task-set-".concat(r.set+1)].data.push({type:1==l[r.number]?"small":"large",time:e,snapping:o.isSnapping}),r.set++,r.number=0,t["task-set-".concat(r.set+1)].type=r.type):(t["task-set-".concat(r.set+1)].data.push({type:1==l[r.number]?"small":"large",time:e,snapping:o.isSnapping}),r.number++)}var l=[1,1,1,1,0,0,0,0,0,0,0,0].sort((function(){return Math.random()>.5?1:-1}));function u(){o.isSnapping=!1,o.smallGridOnStart=!1,r.type="neutral"}function d(e){o.isSnapping=!0,o.smallGridOnStart=e,r.type="snapping"}console.log(l),Object(A["Pb"])((function(){if(r.set<=1){var e=n.id%2!=0;e?(t["task-set-1"].type="neutral",t["task-set-2"].type="snapping",0==r.set?u():1==r.set&&(d(1==l[r.number]),console.log(1==l[r.number]?"small":"large"))):(t["task-set-1"].type="snapping",t["task-set-2"].type="neutral",0==r.set?d(1==l[r.number]):1==r.set&&u())}else f()}));var p=Math.random()<.3333333;function f(){o.isSnapping="on"==t.answer,o.smallGridOnStart=p,r.type="frame"}function b(){i.showConcentrateTest=!0}function m(e){console.log("被试的回答是",e),i.showConcentrateTest=!1,i.passTest=12==e,t.test.answer=e,t.test.pass=12==e,r.set++,r.number=0}function g(){i.showQuestion=!0}function h(e){console.log("被试的选择是",e),t.answer=e,i.answer=e,i.showQuestion=!1,b()}return{subject:n,state:r,dragConfig:o,frameEffectQuestion:a,frameEffectAnswer:i,finishFlag:c,finishHandler:s,handleAnswer:h,handleTest:m,data:t}}n("a44a");U.render=O,U.__scopeId="data-v-03fb180a";t["default"]=U},"71fe":function(e,t,n){},"78c1":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=Object(r["withScopeId"])("data-v-88f3a060");Object(r["pushScopeId"])("data-v-88f3a060");var a={class:"home"},i=Object(r["createVNode"])("h1",null,"拖动交互测试区",-1);Object(r["popScopeId"])();var c=o((function(e,t,n,o,c,s){var l=Object(r["resolveComponent"])("Drag"),u=Object(r["resolveComponent"])("el-switch");return Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[i,Object(r["createVNode"])(l,{"is-snapping":c.isSnapping,"show-grid":c.showGrid},null,8,["is-snapping","show-grid"]),Object(r["createVNode"])(u,{class:"switch",modelValue:c.isSnapping,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.isSnapping=e}),"active-text":"网格吸附开","inactive-text":"网格吸附关","active-color":"green"},null,8,["modelValue"]),Object(r["createVNode"])(u,{class:"switch",modelValue:c.showGrid,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.showGrid=e}),"active-text":"网格显示开","inactive-text":"网格显示关","active-color":"green"},null,8,["modelValue"])])})),s=n("3ce3"),l={name:"Home",components:{Drag:s["a"]},data:function(){return{isSnapping:!1,showGrid:!0}}};n("2393");l.render=c,l.__scopeId="data-v-88f3a060";t["default"]=l},a27e:function(e,t,n){},a44a:function(e,t,n){"use strict";n("dfa4")},c69f:function(e,t,n){},dfa4:function(e,t,n){},f367:function(e){e.exports=JSON.parse('[{"start":["0 ","0 "],"target":["400 ","240 "]},{"start":["0 ","160 "],"target":["400 ","400 "]},{"start":["0 ","320 "],"target":["400 ","560 "]},{"start":["160 ","0 "],"target":["560 ","240 "]},{"start":["160","160"],"target":["560 ","400 "]},{"start":["160 ","320 "],"target":["560 ","560 "]},{"start":["320 ","0 "],"target":["720 ","240 "]},{"start":["320 ","160 "],"target":["720 ","400 "]},{"start":["320 ","320 "],"target":["720 ","560 "]},{"start":["480 ","0 "],"target":["880 ","240 "]},{"start":["480 ","160 "],"target":["880 ","400 "]},{"start":["480 ","320 "],"target":["880 ","560 "]},{"start":["640 ","0 "],"target":["240 ","240 "]},{"start":["640 ","160 "],"target":["240 ","400 "]},{"start":["640 ","320 "],"target":["240 ","560 "]},{"start":["800 ","0 "],"target":["400 ","240 "]},{"start":["800 ","160 "],"target":["400","400"]},{"start":["800 ","320 "],"target":["400 ","560 "]},{"start":["420 ","260 "],"target":["20 ","20 "]},{"start":["420 ","420 "],"target":["20 ","180 "]},{"start":["420 ","580 "],"target":["20 ","340 "]},{"start":["580 ","260 "],"target":["180 ","20 "]},{"start":["580 ","420 "],"target":["180","180 "]},{"start":["580 ","580 "],"target":["180 ","340 "]},{"start":["740 ","260 "],"target":["340 ","20 "]},{"start":["740 ","420 "],"target":["340 ","180 "]},{"start":["740 ","580 "],"target":["340 ","340 "]},{"start":["900 ","260 "],"target":["500 ","20 "]},{"start":["900 ","420 "],"target":["500 ","180 "]},{"start":["900 ","580 "],"target":["500 ","340 "]},{"start":["260 ","260 "],"target":["660 ","20 "]},{"start":["260 ","420 "],"target":["660 ","180 "]},{"start":["260 ","580 "],"target":["660 ","340 "]},{"start":["420 ","260 "],"target":["820 ","20 "]},{"start":["420","420 "],"target":["820 ","180 "]},{"start":["420 ","580 "],"target":["820 ","340 "]}]')}});
//# sourceMappingURL=app.8e22563d.js.map