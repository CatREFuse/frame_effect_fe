(function(e){function t(t){for(var r,c,i=t[0],s=t[1],l=t[2],d=0,f=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&f.push(o[c][0]),o[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"26c5":function(e,t,n){"use strict";n("61e5")},"35a5":function(e,t,n){"use strict";n("71fe")},"3ce3":function(e,t,n){"use strict";n("c96a");var r=n("7a23"),o=Object(r["withScopeId"])("data-v-d1316bf8");Object(r["pushScopeId"])("data-v-d1316bf8");var a={key:0,style:{display:"flex","flex-direction":"column","align-items":"center"}},c=Object(r["createVNode"])("div",{style:{"margin-top":"1rem"}},"可以通过 Shift 切换网格大小",-1),i={style:{"margin-top":"0rem"}};Object(r["popScopeId"])();var s=o((function(e,t,n,o,s,l){var u=Object(r["resolveComponent"])("el-switch");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])("div",{class:{canvas:!0,"small-grid":s.small&&n.showGrid,"big-grid":!s.small&&n.showGrid,"no-grid":!n.showGrid,grab:s.isDraging},onMousemove:t[2]||(t[2]=Object(r["withModifiers"])((function(e){return l.draging(e)}),["prevent"])),onMouseup:t[3]||(t[3]=Object(r["withModifiers"])((function(e){return l.dragEnd(e)}),["prevent"]))},[Object(r["createVNode"])("div",{class:{box:!0,grab:s.isDraging},onMousedown:t[1]||(t[1]=Object(r["withModifiers"])((function(e){return l.dragStart(e)}),["prevent"])),style:{left:"".concat(s.boxPosition.x,"px"),top:"".concat(s.boxPosition.y,"px"),backgroundColor:"".concat(s.isInTarget?"#7EBF50":"#282A3A")}},null,38),Object(r["createVNode"])("div",{class:"target",style:{left:"".concat(s.targetPosition.x,"px"),top:"".concat(s.targetPosition.y,"px")}},null,4)],34),n.debug?(Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[Object(r["createVNode"])("div",null,"坐标为: "+Object(r["toDisplayString"])(s.boxPosition.x)+" "+Object(r["toDisplayString"])(s.boxPosition.y),1),c,Object(r["createVNode"])("div",i,"网格大小 "+Object(r["toDisplayString"])(s.small?"80px":"160px"),1),Object(r["createVNode"])(u,{style:{margin:"0.5rem"},modelValue:s.small,"onUpdate:modelValue":t[4]||(t[4]=function(e){return s.small=e}),"active-text":"小网格","inactive-text":"大网格"},null,8,["modelValue"])])):Object(r["createCommentVNode"])("",!0)],64)})),l=(n("7f17"),n("f3fc"),n("6573")),u=n.n(l),d=n("3835"),f=n("ade3");n("159b"),n("a9e3"),n("d81d");function p(e,t){for(var n=[],r=0;r<e;r++)0!=r&&n.push(r*t-60),n.push(r*t),r==e-1&&n.push((r+1)*t-60);return n}var b=p(6,160),m=p(4,160),g=p(12,80),O=p(8,80);function h(e,t){var n=0,r=1e6;return t.forEach((function(t){Math.abs(e-t)<=r&&(r=Math.abs(e-t),n=t)})),n}var j={props:{isSnapping:{type:Boolean,default:!0},showGrid:{type:Boolean,default:!0},debug:{type:Boolean,default:!1},smallGridOnStart:{type:Boolean,default:!1},updateFlag:{type:Number,default:0}},data:function(){return{small:!1,isDraging:!1,dragBuffer:Object(f["a"])({cursorXOnStart:0,cursorYOnStart:0,boxXOnStart:0,boxYOnStart:0,boxPositionX:0},"boxPositionX",0),boxPosition:{x:160,y:160},targetPosition:{x:640,y:320},isInTarget:!1,showNotice:!1,isResetting:!1,isInTiming:!1,time:{begin:0,end:0}}},computed:{period:function(){return this.time.end-this.time.begin}},emits:["accomplish"],methods:{dragStart:function(e){if(!this.isResetting){if(!this.isInTiming){var t=new Date;this.time.begin=t.getTime()}this.isInTiming=!0;var n=v(e,".canvas"),r=Object(d["a"])(n,2);this.dragBuffer.cursorXOnStart=r[0],this.dragBuffer.cursorYOnStart=r[1];var o=[this.boxPosition.x,this.boxPosition.y];this.dragBuffer.boxXOnStart=o[0],this.dragBuffer.boxYOnStart=o[1],this.isDraging=!0}},draging:function(e){if(!this.isResetting&&0!=this.isDraging){var t=v(e,".canvas"),n=Object(d["a"])(t,2),r=n[0],o=n[1],a=r-this.dragBuffer.cursorXOnStart,c=o-this.dragBuffer.cursorYOnStart;this.isSnapping?(this.dragBuffer.boxPositionX=a+this.dragBuffer.boxXOnStart,this.dragBuffer.boxPositionY=c+this.dragBuffer.boxYOnStart,this.small?(this.boxPosition.x=h(this.dragBuffer.boxPositionX,g),this.boxPosition.y=h(this.dragBuffer.boxPositionY,O)):(this.boxPosition.x=h(this.dragBuffer.boxPositionX,b),this.boxPosition.y=h(this.dragBuffer.boxPositionY,m))):(this.boxPosition.x=a+this.dragBuffer.boxXOnStart,this.boxPosition.y=c+this.dragBuffer.boxYOnStart),Math.abs(this.boxPosition.x-this.targetPosition.x)<=4&&Math.abs(this.boxPosition.y-this.targetPosition.y)<=4?this.isInTarget=!0:this.isInTarget=!1}},dragEnd:function(e){var t=this;if(!this.isResetting&&0!=this.isDraging){var n=new Date;this.time.end=n.getTime(),this.isDraging=!1;var r=[0,0];if(this.cursorXOnStart=r[0],this.cursorYOnStart=r[1],this.isInTarget){var o=[this.targetPosition.x,this.targetPosition.y];this.boxPosition.x=o[0],this.boxPosition.y=o[1],this.$emit("accomplish",this.period),u.a.success({message:"完成目标，用时 ".concat(this.period," ms，即将进行下一轮..."),type:"success"}),this.isResetting=!0,setTimeout((function(){t.resetDrag()}),1200)}}},resetDrag:function(){for(var e in this.dragBuffer)this.dragBuffer[e]=0;this.boxPosition={x:160,y:160},this.showNotice=!1,this.isInTarget=!1,this.isResetting=!1,this.isInTiming=!1;var t=n("f367"),r=Math.floor(Math.random()*t.length),o=t[r],a=[o.start[0],o.start[1],o.target[0],o.target[1]].map((function(e){return parseInt(e)})),c=Object(d["a"])(a,4),i=c[0],s=c[1],l=c[2],u=c[3];this.boxPosition={x:i,y:s},this.targetPosition={x:l,y:u}},switch:function(){this.small=!this.small,console.log("switch"),u.a.info({message:"切换到".concat(this.small?"小":"大","网格"),type:"success"})},listener:function(e){e.shiftKey&&"P"==e.key&&this.switch()}},created:function(){document.addEventListener("keydown",this.listener)},unmounted:function(){console.log("remove"),document.removeEventListener("keydown",this.listener)},mounted:function(){this.small=this.smallGridOnStart,this.resetDrag()},watch:{updateFlag:function(e,t){this.small=this.smallGridOnStart,console.log("small:",this.small)}}};function v(e,t){var n=document.querySelector(t).getBoundingClientRect().top,r=document.querySelector(t).getBoundingClientRect().left,o=e.clientX-r,a=e.clientY-n;return[o,a]}n("4d0c");j.render=s,j.__scopeId="data-v-d1316bf8";t["a"]=j},"4d0c":function(e,t,n){"use strict";n("6717")},"4e0a":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),o={id:"app"},a=Object(r["createVNode"])("h2",{style:{color:"white","padding-left":"16px"}},[Object(r["createVNode"])("i",{class:"el-icon-files"}),Object(r["createTextVNode"])(" 框架效应实验平台 ")],-1),c=Object(r["createVNode"])("i",{class:"el-icon-menu"},null,-1),i=Object(r["createVNode"])("span",null,"实验区",-1),s=Object(r["createVNode"])("i",{class:"el-icon-setting"},null,-1),l=Object(r["createVNode"])("span",null,"调试区",-1);function u(e,t,n,u,d,f){var p=Object(r["resolveComponent"])("el-menu-item"),b=Object(r["resolveComponent"])("el-menu"),m=Object(r["resolveComponent"])("el-aside"),g=Object(r["resolveComponent"])("router-view"),O=Object(r["resolveComponent"])("el-main"),h=Object(r["resolveComponent"])("el-container");return Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])(h,{style:{height:"100vh"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,{width:"280px"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{style:{height:"100%","text-align":"left"},"background-color":"#545c64","text-color":"#fff","active-text-color":"#8EC766","default-active":e.$route.path,router:!0},{default:Object(r["withCtx"])((function(){return[a,Object(r["createVNode"])(p,{index:"/lab",route:"/lab"},{default:Object(r["withCtx"])((function(){return[c,i]})),_:1}),Object(r["createVNode"])(p,{index:"/test",route:"/test"},{default:Object(r["withCtx"])((function(){return[s,l]})),_:1})]})),_:1},8,["default-active"])]})),_:1}),Object(r["createVNode"])(O,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])((function(e){var t=e.Component;return[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(t)))]})),_:1})]})),_:1})]})),_:1})])}var d=n("6cd1"),f=n("78c1"),p={name:"App",components:{Home:d["default"],Test:f["default"]},mounted:function(){console.log(this.$route)}};n("35a5");p.render=u;var b=p,m=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),g=[{path:"/",name:"Index",redirect:"/lab"},{path:"/lab",name:"Lab",component:function(){return Promise.resolve().then(n.bind(null,"6cd1"))}},{path:"/test",name:"Test",component:function(){return Promise.resolve().then(n.bind(null,"78c1"))}}],O=Object(m["a"])({history:Object(m["b"])(),routes:g}),h=O,j=n("5502"),v=Object(j["a"])({state:{colorScheme:"light"},mutations:{switchToDark:function(){this.state.colorScheme="dark"},switchToLight:function(){this.state.colorScheme="light"}},actions:{},modules:{}}),V=(n("7dd6"),n("46bd")),x=n.n(V),N=(n("c69f"),n("3ef0")),w=n.n(N),y=function(e){e.use(x.a,{locale:w.a})},S=Object(r["createApp"])(b);y(S),S.use(v).use(h).mount("#app")},"61e5":function(e,t,n){},6717:function(e,t,n){},"6cd1":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=Object(r["withScopeId"])("data-v-30c6dd7d");Object(r["pushScopeId"])("data-v-30c6dd7d");var a={key:0,class:"example"},c=Object(r["createVNode"])("h1",null,"实验说明",-1),i=Object(r["createVNode"])("div",{style:{columns:"2","column-gap":"24px","column-fill":"balance"}},[Object(r["createVNode"])("p",null,[Object(r["createTextVNode"])(" 在实验过程中，请你完成一系列拖拽方块的任务，将交互目标"),Object(r["createVNode"])("em",null,"黑色方块"),Object(r["createTextVNode"])("拖拽至"),Object(r["createVNode"])("em",null,"虚线方块"),Object(r["createTextVNode"])("位置，若方块变为"),Object(r["createVNode"])("em",null,"绿色"),Object(r["createTextVNode"])(" 则说明任务成功，若没有变化则需要继续调整交互目标，直至完成。 ")]),Object(r["createVNode"])("p",null,[Object(r["createTextVNode"])(" 实验中存在"),Object(r["createVNode"])("em",null,"不可见的网格"),Object(r["createTextVNode"])("，网格有"),Object(r["createVNode"])("em",null,"大小两种尺寸"),Object(r["createTextVNode"])("，可以通过按下 "),Object(r["createVNode"])("em",null," 左 Shift + P"),Object(r["createTextVNode"])(" 进行转换。 ")]),Object(r["createVNode"])("p",null,[Object(r["createTextVNode"])(" 另外，任务中存在"),Object(r["createVNode"])("em",null,"网格吸附"),Object(r["createTextVNode"])("功能，"),Object(r["createVNode"])("em",null,"开启后交互目标只能沿着网格顶点移动"),Object(r["createTextVNode"])("。 ")]),Object(r["createVNode"])("p",null,[Object(r["createTextVNode"])(" 由于目标总是不在大网格的边上，因此根据两种功能的开启与否，共有三种任务类型："),Object(r["createVNode"])("em",null,"无网格吸附"),Object(r["createTextVNode"])("、"),Object(r["createVNode"])("em",null,"网格吸附-容易对齐（网格小）"),Object(r["createTextVNode"])("、"),Object(r["createVNode"])("em",null,"网格吸附-较难对齐（网格大）"),Object(r["createTextVNode"])("。请根据不同的任务选择恰当的操作。 ")]),Object(r["createVNode"])("p",null," 在完成拖拽任务后，会有数个测试问题，需要您根据自己的偏好进行选择。 "),Object(r["createVNode"])("p",null,[Object(r["createVNode"])("em",null,"请注意：在实验过程中，网格是不可见的，这意味着你只能通过尝试拖动来判断是否需要切换网格。")])],-1),s={key:1,class:"task-set",id:"task-set-1"},l={key:0},u={style:{"text-align":"left"}},d={class:"dialog-footer"},f=Object(r["createTextVNode"])("开启"),p=Object(r["createTextVNode"])("不开启"),b={style:{"text-align":"left"}},m={class:"dialog-footer"},g=Object(r["createTextVNode"])("开启"),O=Object(r["createTextVNode"])("不开启"),h={style:{"text-align":"left"}},j=Object(r["createTextVNode"])(" 后续拖拽任务的总数是"),v={class:"dialog-footer"},V=Object(r["createTextVNode"])("确定"),x={key:2},N=Object(r["createTextVNode"])("下载实验数据");Object(r["popScopeId"])();var w=o((function(e,t,n,w,y,S){var k=Object(r["resolveComponent"])("el-step"),C=Object(r["resolveComponent"])("el-steps"),B=Object(r["resolveComponent"])("lab-form"),T=Object(r["resolveComponent"])("el-col"),P=Object(r["resolveComponent"])("el-row"),_=Object(r["resolveComponent"])("drag"),A=Object(r["resolveComponent"])("el-button"),I=Object(r["resolveComponent"])("el-dialog"),D=Object(r["resolveComponent"])("el-input"),E=Object(r["resolveComponent"])("el-result"),F=Object(r["resolveComponent"])("VueJsonPretty");Object(r["resolveComponent"])("el-input-number");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(C,{active:y.phase,simple:""},{default:o((function(){return[Object(r["createVNode"])(k,{title:"信息录入",icon:"el-icon-edit"}),Object(r["createVNode"])(k,{title:"实验熟悉",icon:"el-icon-chat-round"}),Object(r["createVNode"])(k,{title:"进行实验",icon:"el-icon-coordinate"}),Object(r["createVNode"])(k,{title:"数据记录",icon:"el-icon-data-board"})]})),_:1},8,["active"]),Object(r["withDirectives"])(Object(r["createVNode"])(B,{onSubmit:t[1]||(t[1]=function(e){return S.handleForm(e)})},null,512),[[r["vShow"],0==y.phase]]),1==y.phase?(Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[Object(r["createVNode"])(P,{gutter:"48",justify:"center",type:"flex"},{default:o((function(){return[Object(r["createVNode"])(T,{span:24},{default:o((function(){return[c,i,Object(r["createVNode"])("h2",null,Object(r["toDisplayString"])(w.example.title.value),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(_,{isSnapping:w.example.dragConfig.isSnapping,smallGridOnStart:w.example.dragConfig.smallGridOnStart,onAccomplish:t[2]||(t[2]=function(e){return w.example.exampleFinishHander(e)}),debug:!1,updateFlag:w.example.state.value},null,8,["isSnapping","smallGridOnStart","updateFlag"])])):Object(r["createCommentVNode"])("",!0),2==y.phase?(Object(r["openBlock"])(),Object(r["createBlock"])("div",s,[w.experiment.frameEffectAnswer.showConcentrateTest?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])("h1",l," 任务组 "+Object(r["toDisplayString"])(w.experiment.state.set+1)+" - "+Object(r["toDisplayString"])(w.experiment.type.value)+" "+Object(r["toDisplayString"])(w.experiment.state.number+1)+"/12 ",1)),Object(r["createVNode"])(_,{debug:!1,showGrid:!1,smallGridOnStart:w.experiment.dragConfig.smallGridOnStart,isSnapping:w.experiment.dragConfig.isSnapping,onAccomplish:w.experiment.finishHandler,updateFlag:w.experiment.state.number},null,8,["smallGridOnStart","isSnapping","onAccomplish","updateFlag"])])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(I,{title:"提示",modelValue:w.experiment.frameEffectAnswer.showQuestion,"onUpdate:modelValue":t[5]||(t[5]=function(e){return w.experiment.frameEffectAnswer.showQuestion=e}),"show-close":!1,"close-on-click-modal":!1},{footer:o((function(){return[Object(r["createVNode"])("span",d,[Object(r["createVNode"])(A,{onClick:t[3]||(t[3]=function(e){return w.experiment.handleAnswer("on")})},{default:o((function(){return[f]})),_:1}),Object(r["createVNode"])(A,{onClick:t[4]||(t[4]=function(e){return w.experiment.handleAnswer("off")})},{default:o((function(){return[p]})),_:1})])]})),default:o((function(){return[Object(r["createVNode"])("div",u,Object(r["toDisplayString"])(w.experiment.frameEffectQuestion[w.experiment.subject.group]||"组别出错"),1)]})),_:1},8,["modelValue"]),Object(r["createVNode"])(I,{title:"提示",modelValue:w.experiment.frameEffectAnswer.showQuestion2,"onUpdate:modelValue":t[8]||(t[8]=function(e){return w.experiment.frameEffectAnswer.showQuestion2=e}),"show-close":!1,"close-on-click-modal":!1},{footer:o((function(){return[Object(r["createVNode"])("span",m,[Object(r["createVNode"])(A,{onClick:t[6]||(t[6]=function(e){return w.experiment.handleAnswer2("on")})},{default:o((function(){return[g]})),_:1}),Object(r["createVNode"])(A,{onClick:t[7]||(t[7]=function(e){return w.experiment.handleAnswer2("off")})},{default:o((function(){return[O]})),_:1})])]})),default:o((function(){return[Object(r["createVNode"])("div",b,Object(r["toDisplayString"])(w.experiment.frameEffectQuestion[w.experiment.subject.group]||"组别出错"),1)]})),_:1},8,["modelValue"]),Object(r["createVNode"])(I,{"show-close":!1,"close-on-click-modal":!1,title:"请回答",modelValue:w.experiment.frameEffectAnswer.showConcentrateTest,"onUpdate:modelValue":t[11]||(t[11]=function(e){return w.experiment.frameEffectAnswer.showConcentrateTest=e})},{footer:o((function(){return[Object(r["createVNode"])("span",v,[Object(r["createVNode"])(A,{onClick:t[10]||(t[10]=function(e){return w.experiment.handleTest(parseInt(w.experiment.frameEffectAnswer.testNum))})},{default:o((function(){return[V]})),_:1})])]})),default:o((function(){return[Object(r["createVNode"])("div",h,[j,Object(r["createVNode"])(D,{modelValue:w.experiment.frameEffectAnswer.testNum,"onUpdate:modelValue":t[9]||(t[9]=function(e){return w.experiment.frameEffectAnswer.testNum=e}),style:{display:"inline"}},null,8,["modelValue"])])]})),_:1},8,["modelValue"]),3==y.phase?(Object(r["openBlock"])(),Object(r["createBlock"])("div",x,[Object(r["createVNode"])(E,{icon:"success",title:"已完成完全实验",subTitle:"请配合工作人员下载实验数据文件，感谢您的参与！"}),Object(r["createVNode"])(A,{type:"primary",size:"medium",icon:"el-icon-download",onClick:S.downloadJSON},{default:o((function(){return[N]})),_:1},8,["onClick"]),Object(r["createVNode"])(F,{data:S.data},null,8,["data"])])):Object(r["createCommentVNode"])("",!0),Object(r["createCommentVNode"])("",!0)],64)})),y=n("1da1"),S=(n("96cf"),n("99af"),n("a1e9")),k=Object(r["withScopeId"])("data-v-937cdf7e");Object(r["pushScopeId"])("data-v-937cdf7e");var C={class:"form"},B=Object(r["createVNode"])("h1",null,"信息录入",-1),T=Object(r["createVNode"])("p",null,[Object(r["createTextVNode"])(" 为保证实验的准确性，请在下方如实填写你的信息。"),Object(r["createVNode"])("br"),Object(r["createVNode"])("em",null,"请放心，其中不包含任何可能透漏个人隐私的问题。")],-1),P=Object(r["createTextVNode"])("A"),_=Object(r["createTextVNode"])("B"),A=Object(r["createTextVNode"])("男"),I=Object(r["createTextVNode"])("女"),D=Object(r["createTextVNode"])("其他"),E=Object(r["createTextVNode"])("提交");Object(r["popScopeId"])();for(var F=k((function(e,t,n,o,a,c){var i=Object(r["resolveComponent"])("el-input"),s=Object(r["resolveComponent"])("el-form-item"),l=Object(r["resolveComponent"])("el-radio"),u=Object(r["resolveComponent"])("el-option"),d=Object(r["resolveComponent"])("el-select"),f=Object(r["resolveComponent"])("el-form"),p=Object(r["resolveComponent"])("el-button"),b=Object(r["resolveComponent"])("el-card"),m=Object(r["resolveComponent"])("el-col"),g=Object(r["resolveComponent"])("el-row");return Object(r["openBlock"])(),Object(r["createBlock"])("div",C,[B,T,Object(r["createVNode"])(g,null,{default:k((function(){return[Object(r["createVNode"])(m,{span:12},{default:k((function(){return[Object(r["createVNode"])(b,{shadow:"never"},{default:k((function(){return[Object(r["createVNode"])(f,{model:a.form,class:"el-form","label-width":"80px",rules:a.rules,ref:"form"},{default:k((function(){return[Object(r["createVNode"])(s,{label:"实验编号",prop:"id"},{default:k((function(){return[Object(r["createVNode"])(i,{modelValue:a.form.id,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.form.id=e}),style:{width:"100px"}},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(s,{label:"实验组",prop:"group"},{default:k((function(){return[Object(r["createVNode"])(l,{modelValue:a.form.group,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.form.group=e}),label:"A"},{default:k((function(){return[P]})),_:1},8,["modelValue"]),Object(r["createVNode"])(l,{modelValue:a.form.group,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.form.group=e}),label:"B"},{default:k((function(){return[_]})),_:1},8,["modelValue"])]})),_:1}),Object(r["createVNode"])(s,{label:"性别",prop:"gender"},{default:k((function(){return[Object(r["createVNode"])(l,{modelValue:a.form.gender,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.form.gender=e}),label:"male"},{default:k((function(){return[A]})),_:1},8,["modelValue"]),Object(r["createVNode"])(l,{modelValue:a.form.gender,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.form.gender=e}),label:"female"},{default:k((function(){return[I]})),_:1},8,["modelValue"]),Object(r["createVNode"])(l,{modelValue:a.form.gender,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.form.gender=e}),label:"other"},{default:k((function(){return[D]})),_:1},8,["modelValue"])]})),_:1}),Object(r["createVNode"])(s,{label:"年龄",prop:"age"},{default:k((function(){return[Object(r["createVNode"])(d,{modelValue:a.form.age,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.form.age=e}),placeholder:"请选择"},{default:k((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(a.ages,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(r["createVNode"])(s,{label:"显示设备",prop:"monitor",style:{width:"300px"}},{default:k((function(){return[Object(r["createVNode"])(d,{modelValue:a.form.monitor,"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.form.monitor=e}),placeholder:"请选择"},{default:k((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(a.monitors,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(r["createVNode"])(s,{label:"输入设备",prop:"input",style:{width:"300px"}},{default:k((function(){return[Object(r["createVNode"])(d,{modelValue:a.form.input,"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.form.input=e}),placeholder:"请选择"},{default:k((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(a.inputs,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"]),Object(r["createVNode"])(p,{type:"primary",disabled:!c.ready,icon:"el-icon-success",onClick:t[10]||(t[10]=function(t){return e.$emit("submit",a.form)})},{default:k((function(){return[E]})),_:1},8,["disabled"])]})),_:1})]})),_:1})]})),_:1})])})),G=[],M=18;M<=40;M++)G.push(M);var U={data:function(){return{form:{id:"",group:"A",gender:"male",age:"",monitor:"",input:""},ages:function(){for(var e=[],t=18;t<=40;t++)e.push(t);return e}(),monitors:["笔记本（小于 16 寸）","显示器（20 - 26 寸）","显示器（26 寸以上）","其他"],inputs:["鼠标","触控板","轨迹球","触屏","其他"],rules:{id:{required:!0,trigger:"change"},group:{required:!0,trigger:"change"},gender:{required:!0,trigger:"change"},age:{required:!0,trigger:"change"},monitor:{required:!0,trigger:"change"},input:{required:!0,trigger:"change"}}}},computed:{ready:function(){var e=!0;for(var t in this.form)e=e&&this.form[t];return e}}};n("26c5");U.render=F,U.__scopeId="data-v-937cdf7e";var Q=U,X=n("5c40"),R=n("3ce3"),Y=n("838b"),J=n.n(Y),L=(n("b83f"),{components:{LabForm:Q,Drag:R["a"],VueJsonPretty:J.a},data:function(){return{phase:0,subjectForm:Object,showQuestion:!0}},methods:{handleForm:function(e){this.phase=1,this.subjectForm=e,this.experiment.subject.id=e.id,this.experiment.subject.group=e.group},nextPhase:function(){this.phase++},downloadJSON:function(){function e(e,t){var n=document.createElement("a");if(n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),document.createEvent){var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}else n.click()}var t=JSON.stringify(this.data);e("编号".concat(this.subjectForm.id).concat(this.subjectForm.group,".json"),t)}},computed:{data:function(){return this.experiment.data.subject=this.subjectForm,this.experiment.data},dataJSON:function(){return JSON.stringify(this.experiment.data)}},watch:{"example.nextPhaseFlag.value":function(e,t){e&&this.nextPhase()},"experiment.finishFlag.value":function(e){e&&this.nextPhase()}},setup:function(e,t){var n=q(e,t),r=H(e,t);return{example:n,experiment:r}},beforeRouteLeave:function(){return Object(y["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=window.confirm("离开本页会丢失当前所有实验数据，确定离开吗？"),t){e.next=3;break}return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e)})))()}});function q(){var e="实验任务中存在两种不同的功能设置：网格吸附（后台设置，不能操作）和网格缩放（按下 左 Shift + P 网格将由大变小）。根据两种功能的开启与否，共有三种任务类型：无网格吸附、网格吸附-容易对齐（网格小）、网格吸附-较难对齐（网格大）。请根据不同的任务选择恰当的操作。",t=["1. 无网格吸附任务","2. 网格吸附-容易对齐任务","3. 网格吸附-较难对齐任务"],n=Object(S["k"])({isSnapping:!1,smallGridOnStart:!1});function r(){n.isSnapping=!0,n.smallGridOnStart=!0,console.log(1)}function o(){n.isSnapping=!0,n.smallGridOnStart=!1,console.log(2)}var a=Object(S["m"])(""),c=Object(S["m"])(0);Object(X["Pb"])((function(){switch(a.value=t[c.value],c.value){case 0:console.log(0);break;case 1:r();break;case 2:o();break;default:alert("测试实验状态出错")}}));var i=Object(S["m"])(!1);function s(){c.value<2?c.value++:i.value=!0}return{description:e,title:a,state:c,dragConfig:n,exampleFinishHander:s,nextPhaseFlag:i}}function H(e){var t=Object(S["k"])({answer:"",answer2:"",test:{answer:0,pass:!1},"task-set-1":{type:"",data:[]},"task-set-2":{type:"",data:[]},"task-set-3":{type:"frame",data:[]}}),n=Object(S["k"])({id:"",group:""}),r=Object(S["k"])({set:0,type:"neutral",number:0}),o=Object(S["k"])({isSnapping:!1,smallGridOnStart:!1}),a={A:"接下来你将被分配新一轮的 12 个拖拽任务：其中有 33% 的概率所有的任务都是容易对齐网格的，还有 66% 的概率没有任务是容易对齐的。你想要网格吸附功能开启还是关闭？",B:"接下来你将被分配新一轮的 12 个拖拽任务：其中有 66% 的概率所有的任务都是较难对齐网格的，还有 33% 的概率没有任务是较难对齐的。你想要网格吸附功能开启还是关闭？"},c=Object(S["k"])({group:"A",answer:"on",answer2:"on",testNum:"",showQuestion:!1,showQuestion2:!1,showTest:!1,passTest:!1}),i=Object(S["m"])(!1),s=11;function l(e){if(1==r.set&&r.number==(null!==s&&void 0!==s?s:11))return t["task-set-".concat(r.set+1)].data.push({type:1==u[r.number]?"small":"large",time:e,snapping:o.isSnapping}),void O();r.number==(null!==s&&void 0!==s?s:11)?2==r.set?(t["task-set-".concat(r.set+1)].data.push({type:1==u[r.number]?"small":"large",time:e,snapping:o.isSnapping}),c.showQuestion2=!0):(t["task-set-".concat(r.set+1)].data.push({type:1==u[r.number]?"small":"large",time:e,snapping:o.isSnapping}),alert("本次实验结束，即将进行下一次实验，请休息一会，准备好了请点击确认。"),r.set++,r.number=0,t["task-set-".concat(r.set+1)].type=r.type):(t["task-set-".concat(r.set+1)].data.push({type:1==u[r.number]?"small":"large",time:e,snapping:o.isSnapping}),r.number++)}var u=[1,1,1,1,0,0,0,0,0,0,0,0].sort((function(){return Math.random()>.5?1:-1}));function d(){o.isSnapping=!1,o.smallGridOnStart=!1,r.type="neutral"}function f(e){o.isSnapping=!0,o.smallGridOnStart=e,r.type="snapping"}console.log(u),Object(X["Pb"])((function(){if(r.set<=1){var e=n.id%2!=0;e?(t["task-set-1"].type="neutral",t["task-set-2"].type="snapping",0==r.set?d():1==r.set&&(f(1==u[r.number]),console.log(1==u[r.number]?"small":"large"))):(t["task-set-1"].type="snapping",t["task-set-2"].type="neutral",0==r.set?f(1==u[r.number]):1==r.set&&d())}else b()}));var p=Math.random()<.3333333;function b(){o.isSnapping="on"==t.answer,o.smallGridOnStart=p,r.type="frame"}function m(){c.showConcentrateTest=!0}function g(e){console.log("被试的回答是",e),c.showConcentrateTest=!1,c.passTest=12==e,t.test.answer=e,t.test.pass=12==e,r.set++,r.number=0}function O(){c.showQuestion=!0}function h(e){console.log("被试的选择是",e),t.answer=e,c.answer=e,c.showQuestion=!1,m()}function j(e){console.log("被试的选择是",e),t.answer2=e,c.answer2=e,c.showQuestion2=!1,i.value=!0}var v=Object(X["n"])((function(){switch(r.type){case"snapping":return"吸附实验";case"neutral":return"中性实验";case"frame":return"框架效应实验";default:return"实验文案出错"}}));return{subject:n,state:r,dragConfig:o,frameEffectQuestion:a,frameEffectAnswer:c,finishFlag:i,finishHandler:l,handleAnswer:h,handleAnswer2:j,handleTest:g,data:t,type:v}}n("cb0f");L.render=w,L.__scopeId="data-v-30c6dd7d";t["default"]=L},"71fe":function(e,t,n){},"78c1":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=Object(r["withScopeId"])("data-v-31e6f164");Object(r["pushScopeId"])("data-v-31e6f164");var a={class:"home"},c=Object(r["createVNode"])("h1",null,"拖动交互测试区",-1);Object(r["popScopeId"])();var i=o((function(e,t,n,o,i,s){var l=Object(r["resolveComponent"])("Drag"),u=Object(r["resolveComponent"])("el-switch");return Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[c,Object(r["createVNode"])(l,{"is-snapping":i.isSnapping,"show-grid":i.showGrid,debug:!0},null,8,["is-snapping","show-grid"]),Object(r["createVNode"])(u,{class:"switch",modelValue:i.isSnapping,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.isSnapping=e}),"active-text":"网格吸附开","inactive-text":"网格吸附关"},null,8,["modelValue"]),Object(r["createVNode"])(u,{class:"switch",modelValue:i.showGrid,"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.showGrid=e}),"active-text":"网格显示开","inactive-text":"网格显示关"},null,8,["modelValue"])])})),s=n("3ce3"),l={name:"Home",components:{Drag:s["a"]},data:function(){return{isSnapping:!1,showGrid:!0}}};n("f0fe");l.render=i,l.__scopeId="data-v-31e6f164";t["default"]=l},"9d0b":function(e,t,n){},c69f:function(e,t,n){},cb0f:function(e,t,n){"use strict";n("9d0b")},f0fe:function(e,t,n){"use strict";n("4e0a")},f367:function(e){e.exports=JSON.parse('[{"start":["0 ","0 "],"target":["400 ","240 "]},{"start":["0 ","160 "],"target":["400 ","400 "]},{"start":["0 ","320 "],"target":["400 ","560 "]},{"start":["160 ","0 "],"target":["560 ","240 "]},{"start":["160","160"],"target":["560 ","400 "]},{"start":["160 ","320 "],"target":["560 ","560 "]},{"start":["320 ","0 "],"target":["720 ","240 "]},{"start":["320 ","160 "],"target":["720 ","400 "]},{"start":["320 ","320 "],"target":["720 ","560 "]},{"start":["480 ","0 "],"target":["880 ","240 "]},{"start":["480 ","160 "],"target":["880 ","400 "]},{"start":["480 ","320 "],"target":["880 ","560 "]},{"start":["640 ","0 "],"target":["240 ","240 "]},{"start":["640 ","160 "],"target":["240 ","400 "]},{"start":["640 ","320 "],"target":["240 ","560 "]},{"start":["800 ","0 "],"target":["400 ","240 "]},{"start":["800 ","160 "],"target":["400","400"]},{"start":["800 ","320 "],"target":["400 ","560 "]},{"start":["420 ","260 "],"target":["20 ","20 "]},{"start":["420 ","420 "],"target":["20 ","180 "]},{"start":["420 ","580 "],"target":["20 ","340 "]},{"start":["580 ","260 "],"target":["180 ","20 "]},{"start":["580 ","420 "],"target":["180","180 "]},{"start":["580 ","580 "],"target":["180 ","340 "]},{"start":["740 ","260 "],"target":["340 ","20 "]},{"start":["740 ","420 "],"target":["340 ","180 "]},{"start":["740 ","580 "],"target":["340 ","340 "]},{"start":["900 ","260 "],"target":["500 ","20 "]},{"start":["900 ","420 "],"target":["500 ","180 "]},{"start":["900 ","580 "],"target":["500 ","340 "]},{"start":["260 ","260 "],"target":["660 ","20 "]},{"start":["260 ","420 "],"target":["660 ","180 "]},{"start":["260 ","580 "],"target":["660 ","340 "]},{"start":["420 ","260 "],"target":["820 ","20 "]},{"start":["420","420 "],"target":["820 ","180 "]},{"start":["420 ","580 "],"target":["820 ","340 "]}]')}});
//# sourceMappingURL=app.5541e4fc.js.map